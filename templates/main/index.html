{% extends "layout/base.html" %}

{% block title %}
  í™ˆ - ë­ì…ì§€?
{% endblock title %}

{% block head %}
  {% include "layout/head.html" %}
  
{% endblock head %}

{% block navi %}
  {% include "layout/navbar.html" %}
{% endblock navi %}

{% block content %}
  <!-- í™ˆ í™”ë©´ ì½˜í…ì¸  Start -->
  <div class="container my-5">
    <!-- 1. ìƒë‹¨: ë™ì£¼ì†Œ + ì…€ë ‰íŠ¸ ë°•ìŠ¤ ì •ë ¬ -->
    <div class="d-flex justify-content-between align-items-center mb-5">

      <!-- ì¢Œì¸¡: ë™ ì£¼ì†Œ -->
      <h4 class="m-0">ì¡°ì›ë™ ë‚ ì”¨</h4>

      <!-- ì´ê±´ ë‚˜ì¤‘ì— GPSë¡œ ë°”ë€œ -->
      <!-- ìš°ì¸¡: ì…€ë ‰íŠ¸ + ê²€ìƒ‰ -->
      <div class="d-flex gap-2">
        <select class="form-select w-auto">
          <option>ì„œìš¸íŠ¹ë³„ì‹œ</option>
          <option>ê²½ê¸°ë„</option>
        </select>
        <select class="form-select w-auto">
          <option>ê°•ë‚¨êµ¬</option>
          <option>ì¢…ë¡œêµ¬</option>
        </select>
        <select class="form-select w-auto">
          <option>ì‹ ì‚¬ë™</option>
          <option>ì²­ìš´ë™</option>
        </select>
        <button class="btn btn-primary">ê²€ìƒ‰</button>
      </div>
    </div>

    <!-- 2. ì˜¤ëŠ˜ì˜ í•œ ì¤„ ë‚ ì”¨ ë¬¸êµ¬ -->
    <div class="text-center mb-5 text-muted" style="font-size: 18px;">
      ì˜¤ëŠ˜ì€ ì–´ì œë³´ë‹¤ ë‚® ê¸°ì˜¨ì´ 10ë„ ë†’ê³  ë”°ëœ»í•œ ë‚ ì´ì—ìš”. ê°€ë²¼ìš´ ì˜·ì°¨ë¦¼ ì¶”ì²œë“œë ¤ìš”!
      <!-- ìœ„ ë¬¸ì¥ì€ ì¶”í›„ API ê¸°ë°˜ + ë¡œì§ ì²˜ë¦¬ë¡œ ìë™ ìƒì„± -->
    </div>

    <!-- 3. ì‹œê°„ëŒ€ë³„ ë‚ ì”¨ ìŠ¬ë¼ì´ë“œ -->
    <div class="d-flex justify-content-center align-items-center mb-5">
      <button id="btn-prev" class="btn btn-outline-secondary me-2">&lt;</button>
      <div id="weather-cards" class="d-flex flex-row gap-4"></div>
      <button id="btn-next" class="btn btn-outline-secondary ms-2">&gt;</button>
    </div>

    <!-- 4. 6ì¼ ìš”ì•½ ë‚ ì”¨ -->
    <div class="d-flex justify-content-center flex-wrap gap-3 mt-5">
      {% for day in days %}
        <div class="border rounded p-3 text-center" style="width: 140px;">
          <div style="font-weight: bold;">{{ day }}ìš”ì¼</div>
          <div style="font-size: 24px;">ğŸŒ¥ï¸</div>
          <div>ìµœê³  18Â°C</div>
          <div>ìµœì € 9Â°C</div>
        </div>
      {% endfor %}
    </div>
  </div>

  <!-- í™ˆ í™”ë©´ ì½˜í…ì¸  End -->
{% endblock content %}

{% block footer %}
  {% include "layout/footer.html" %}
{% endblock footer %}

{% block script %}
  <script>
  // ì‹œê°„ëŒ€ ë”ë¯¸ ë°ì´í„°
  const weatherData = [
    { hour: "9ì‹œ", temp: "15Â°C", icon: "ğŸŒ¤ï¸" },
    { hour: "10ì‹œ", temp: "15Â°C", icon: "ğŸŒ¤ï¸" },
    { hour: "11ì‹œ", temp: "15Â°C", icon: "ğŸŒ¤ï¸" },
    { hour: "12ì‹œ", temp: "15Â°C", icon: "ğŸŒ¤ï¸" },
    { hour: "13ì‹œ", temp: "15Â°C", icon: "ğŸŒ¤ï¸" },
    { hour: "14ì‹œ", temp: "15Â°C", icon: "ğŸŒ¤ï¸" },
    { hour: "15ì‹œ", temp: "15Â°C", icon: "ğŸŒ¤ï¸" },
    { hour: "16ì‹œ", temp: "15Â°C", icon: "ğŸŒ¤ï¸" },
    { hour: "17ì‹œ", temp: "15Â°C", icon: "ğŸŒ¤ï¸" },
    { hour: "18ì‹œ", temp: "15Â°C", icon: "ğŸŒ¤ï¸" },
  ];

  let startIndex = 0;
  const visibleCount = 6;

  const container = document.getElementById("weather-cards");
  const btnPrev = document.getElementById("btn-prev");
  const btnNext = document.getElementById("btn-next");

  // ë Œë”ë§ í•¨ìˆ˜
  function renderCards() {
    container.innerHTML = ""; // ì´ˆê¸°í™”
    const sliced = weatherData.slice(startIndex, startIndex + visibleCount);
    sliced.forEach(item => {
      const card = document.createElement("div");
      card.className = "text-center border rounded shadow-sm p-4 bg-light";
      card.style.minWidth = "120px";
      card.style.height = "140px";
      card.innerHTML = `
        <div style="font-size: 32px;">${item.icon}</div>
        <div style="font-size: 18px;">${item.temp}</div>
        <div style="font-size: 16px;">${item.hour}</div>
      `;
      container.appendChild(card);
    });

    // ë²„íŠ¼ ë¹„í™œì„±í™” ì²˜ë¦¬
    btnPrev.disabled = startIndex === 0;
    btnNext.disabled = startIndex + visibleCount >= weatherData.length;
  }

  // ì´ë²¤íŠ¸ ì—°ê²°
  btnPrev.addEventListener("click", () => {
    if (startIndex > 0) {
      startIndex -= 1;
      renderCards();
    }
  });

  btnNext.addEventListener("click", () => {
    if (startIndex + visibleCount < weatherData.length) {
      startIndex += 1;
      renderCards();
    }
  });

  // ìµœì´ˆ ë Œë”ë§
  document.addEventListener("DOMContentLoaded", renderCards);
  </script>
{% endblock script %}
