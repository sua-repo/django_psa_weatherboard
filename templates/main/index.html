{% extends "layout/base.html" %}
{% load static %}

{% block title %}
  홈 - 뭐입지?
{% endblock title %}

{% block head %}
  {% include "layout/head.html" %}

  <!-- Google Maps API (Places + Autocomplete용) -->
  <script src="https://maps.googleapis.com/maps/api/js?key={{ google_api_key }}&libraries=places&callback=initAutocomplete&language=ko" async defer></script>
  
  <script>
    window.GOOGLE_API_KEY = "{{ google_api_key }}";
  </script>
  
  {% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/custom.css' %}">
  {% endblock extra_css %}
{% endblock head %}

{% block navi %}
  {% include "layout/navbar.html" %}
{% endblock navi %}

{% block content %}
  <div class="container my-5">
    <div class="d-flex justify-content-between align-items-center mb-5">
      <h4 class="m-0">날씨</h4>
      <div class="d-flex gap-2 align-items-center">
        <input
          id="location-search"
          class="form-control"
          type="text"
          placeholder="장소 검색"
        />
        
      </div>
    </div>

    <div id="weather-words" class="text-center mb-5 text-muted" style="font-size: 20px;">
      오늘은 어제보다 낮 기온이 10도 높고 따뜻한 날이에요. 가벼운 옷차림 추천드려요!
    </div>

    <div class="d-flex justify-content-center align-items-center mb-5 pt-4">
      <button id="btn-prev" class="btn btn-outline-secondary me-2">&lt;</button>
      <div id="weather-cards" class="d-flex flex-row gap-4"></div>
      <button id="btn-next" class="btn btn-outline-secondary ms-2">&gt;</button>
    </div>

    <div id="daily-summary" class="d-flex justify-content-center flex-wrap gap-3 mt-5 pt-4">
      <!-- JS로 동적으로 채워짐 -->
    </div>
  </div>
{% endblock content %}

{% block footer %}
  {% include "layout/footer.html" %}
{% endblock footer %}

{% block script %}
  <!-- 템플릿에서 전역으로 설정할 값은 모듈 밖에서 먼저 선언해야 안전 -->
  <script>
    window.NAVER_CLIENT_ID = "{{ naver_client_id }}";
    window.NAVER_CLIENT_SECRET = "{{ naver_client_secret }}";
    window.KMA_SHORT_ENDPOINT = "{{ kma_short_endpoint }}";
    window.KMA_SHORT_KEY = "{{ kma_short_key }}";
    window.KMA_MID_ENDPOINT = "{{ kma_mid_endpoint }}";
    window.KMA_MID_KEY = "{{ kma_mid_key }}";
  </script>

  <script type="module" src="{% static 'js/index.js' %}"></script>
{% endblock script %}
